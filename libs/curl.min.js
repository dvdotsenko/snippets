/*
 MIT License (c) copyright B Cavalier & J Hann */
(function(g){function u(){}function m(a,b){return 0==N.call(a).indexOf("[object "+b)}function j(a){return a&&"/"==a.charAt(a.length-1)?a.substr(0,a.length-1):a}function x(a,b){var c,f,e;f=1;a=a.replace(O,function(a,b,c,k){c&&f++;e=!0;return k||""});return e?(c=b.split("/"),c.splice(c.length-f,f),c.concat(a||[]).join("/")):a}function v(a){var b=a.indexOf("!");return{resourceId:a.substr(b+1),pluginId:0<=b&&a.substr(0,b)}}function w(){}function p(a,b){w.prototype=a||G;var c=new w;w.prototype=G;for(var f in b)c[f]=
b[f];return c}function n(){function a(a,b,e){f.push([a,b,e])}function b(a,b){for(var e,c=0;e=f[c++];)(e=e[a])&&e(b)}var c,f,e;c=this;f=[];e=function(c,h){a=c?function(a){a&&a(h)}:function(a,b){b&&b(h)};e=u;b(c?0:1,h);b=u;f=s};this.then=function(b,e,f){a(b,e,f);return c};this.resolve=function(a){c.resolved=a;e(!0,a)};this.reject=function(a){c.rejected=a;e(!1,a)};this.progress=function(a){b(2,a)}}function q(a,b,c,f){return a instanceof n?a.then(b,c,f):b(a)}function d(a,b,c){var f;return function(){0<=
--a&&b&&(f=b.apply(s,arguments));0==a&&c&&c(f);return f}}function y(){function a(b,e,c){var h;h=k.createContext(i,s,[].concat(b));this.then=b=function(a,b){q(h,function(b){a&&a.apply(s,b)},function(a){if(b)b(a);else throw a;});return this};this.next=function(b,e){return new a(b,e,h)};e&&b(e);q(c,function(){k.getDeps(h)})}var b=[].slice.call(arguments),c;m(b[0],"Object")&&(c=b.shift(),i=k.config(c,i),k.checkPreloads(c));return new a(b[0],b[1])}function o(a){var b=a.id;if(b==s)if(A!==s)A={ex:"Multiple anonymous defines in url"};
else if(!(b=k.getCurrentDefName()))A=a;if(b!=s){var c=t[b];b in t||(c=k.resolvePathInfo(b,i).config,c=t[b]=k.createResourceDef(c,b));if(!(c instanceof n))throw Error("duplicate define: "+b);c.useNet=!1;k.defineResource(c,a)}}var i=g.curl,l,z,C=g.document,B=C&&(C.head||C.getElementsByTagName("head")[0]),I={},J={},K={},D={},G={},N=G.toString,s,L={loaded:1,interactive:K,complete:1},t={},E=!1,A,P=/\?/,M=/^\/|^[^:]+:\/\//,O=/(\.)(\.?)(?:$|\/([^\.\/]+.*)?)/g,Q=/\/\*[\s\S]*?\*\/|(?:[^\\])\/\/.*?[\n\r]/g,
R=/require\s*\(\s*["']([^"']+)["']\s*\)|(?:[^\\]?)(["'])/g,H,k;k={createContext:function(a,b,c,f){function e(a){return x(a,h.ctxId)}function r(b,c){var r,d,F,i;r=c&&function(a){c.apply(s,a)};if(m(b,"String")){d=e(b);F=t[d];i=F instanceof n&&F.exports;if(!(d in t))throw Error("Module not resolved: "+d);if(r)throw Error("require(id, callback) not allowed");return i||F}q(k.getDeps(k.createContext(a,h.ctxId,b,f)),r)}var h;h=new n;h.ctxId=h.id=b||"";h.isPreload=f;h.depNames=c;h.require=r;r.toUrl=function(b){return k.resolvePathInfo(e(b),
a).url};h.toAbsId=e;return h},createResourceDef:function(a,b,c,f){var e,r,h;e=k.createContext(a,b,s,c);e.ctxId=f==s?b:f;r=e.resolve;h=d(1,function(a){e.deps=a;try{return k.executeDefFunc(e)}catch(b){e.reject(b)}});e.resolve=function(a){q(c||E,function(){r(t[e.id]=h(a))})};e.exportsReady=function(a){q(c||E,function(){e.exports&&(h(a),e.progress(J))})};return e},createPluginDef:function(a,b,c,f){a=k.createContext(a,b,s,c);a.ctxId=f;return a},getCjsRequire:function(a){return a.require},getCjsExports:function(a){return a.exports||
(a.exports={})},getCjsModule:function(a){var b=a.module;b||(b=a.module={id:a.id,uri:k.getDefUrl(a),exports:k.getCjsExports(a)},b.exports=b.exports);return b},getDefUrl:function(a){return a.url||(a.url=k.checkToAddJsExt(a.require.toUrl(a.id)))},config:function(a){var b,c,f;(b=a)||(a={});c=a.apiName||"curl";f=a.apiContext||g;if(f!=g||"curl"!=c?f[c]:l&&b)throw Error(c+" already exists");f[c]=y;l&&b&&(g.curl=l);c=a.defineName||"define";f=a.defineContext||g;if(f!=g||"define"!=c?f[c]:z&&b)throw Error(c+
" already exists");f[c]=c=function(){var a=k.fixArgs(arguments);o(a)};z&&b&&(g.define=z);c.amd={plugins:!0,jQuery:!0,curl:"0.6.7"};b&&(k.config=k.moreConfig);return k.moreConfig(a)},moreConfig:function(a,b){function c(a,b){var c,f,h,d,i;for(i in a){h=a[i];h.name=h.id||h.name||i;d=e;f=v(j(h.name||i));c=f.resourceId;if(f=f.pluginId)d=r[f],d||(d=r[f]=p(e),d.pathMap=p(e.pathMap),d.pathList=[]),delete a[i];if(b){f=h;var g=void 0;f.path=j(f.path||f.location||"");g=j(f.main)||"main";"."!=g.charAt(0)&&(g=
"./"+g);f.main=x(g,f.name+"/");f.mainPath=x(g,f.path+"/");f.config=f.config}else f={path:j(h)};f.specificity=c.split("/").length;c?(d.pathMap[c]=f,d.pathList.push(c)):d.baseUrl=k.resolveUrl(h,e)}}function f(a){var b=a.pathMap;a.pathRx=RegExp("^("+a.pathList.sort(function(a,c){return b[a].specificity<b[c].specificity}).join("|").replace(/\/|\./g,"\\$&")+")(?=\\/|$)");delete a.pathList}var e,r;b||(b={});e=p(b,a);e.baseUrl=e.baseUrl||"";e.pluginPath=e.pluginPath||"curl/plugin";e.pathMap=p(b.pathMap);
r=e.plugins=p(b.plugins,a.plugins);e.pathList=[];c(a.paths,!1);c(a.packages,!0);for(var h in r){var d=r[h].pathList;d&&(r[h].pathList=d.concat(e.pathList),f(r[h]))}f(e);return e},checkPreloads:function(a){var b;(b=a&&a.preloads)&&0<b.length&&q(E,function(){E=k.getDeps(k.createContext(i,s,b,!0))})},resolvePathInfo:function(a,b,c){var f,e,d,h;f=b.pathMap;c&&(b.pluginPath&&0>a.indexOf("/")&&!(a in f))&&(d=a=j(b.pluginPath)+"/"+a);c=M.test(a)?a:a.replace(b.pathRx,function(b){e=f[b]||{};h=e.config;return e.main&&
b==a?(d=e.main,e.mainPath):e.path||""});return{ctxId:d||a,config:h||i,url:k.resolveUrl(c,b)}},resolveUrl:function(a,b){var c=b.baseUrl;return c&&!M.test(a)?j(c)+"/"+a:a},checkToAddJsExt:function(a){return a+(P.test(a)?"":".js")},loadScript:function(a,b,c){var f=C.createElement("script");f.onload=f.onreadystatechange=function(c){c=c||g.event;if("load"==c.type||L[f.readyState])delete D[a.id],f.onload=f.onreadystatechange=f.onerror="",b()};f.onerror=function(){c(Error("Syntax or http error: "+a.url))};
f.type=a.mimetype||"text/javascript";f.charset="utf-8";f.async=!a.order;f.src=a.url;D[a.id]=f;B.insertBefore(f,B.firstChild);return f},extractCjsDeps:function(a){var b=[],c;("string"==typeof a?a:a.toSource?a.toSource():a.toString()).replace(Q,"").replace(R,function(a,e,d){d?c=c==d?s:c:c||b.push(e);return a});return b},fixArgs:function(a){var b,c,f,e,d,h;d=a.length;f=a[d-1];e=m(f,"Function")?f.length:-1;2==d?m(a[0],"Array")?c=a[0]:b=a[0]:3==d&&(b=a[0],c=a[1]);!c&&0<e&&(h=!0,c=["require","exports",
"module"].slice(0,e).concat(k.extractCjsDeps(f)));return{id:b,deps:c||[],res:0<=e?f:function(){return f},cjs:h}},executeDefFunc:function(a){var b;b=a.res.apply(a.cjs?a.exports:s,a.deps);b===s&&a.exports&&(b=a.module?a.exports=a.module.exports:a.exports);return b},defineResource:function(a,b){a.res=b.res;a.cjs=b.cjs;a.depNames=b.deps;k.getDeps(a)},getDeps:function(a){function b(a,b,c){h[b]=a;c&&l(a,b)}function c(b,c){var f,e,h,i;f=d(1,function(a){e(a);o(a,c)});e=d(1,function(a){l(a,c)});h=k.fetchDep(b,
a);(i=h instanceof n&&h.exports)&&e(i);q(h,f,a.reject,a.exports&&function(a){h.exports&&(a==I?e(h.exports):a==J&&f(h.exports))})}function f(){a.resolve(h)}var e,i,h,g,j,l,o;h=[];i=a.depNames;g=i.length;0==i.length&&f();l=d(g,b,function(){a.exportsReady&&a.exportsReady(h)});o=d(g,b,f);for(e=0;e<g;e++)j=i[e],j in H?(o(H[j](a),e,!0),a.exports&&a.progress(I)):j?c(j,e):o(s,e,!0);return a},fetchResDef:function(a){k.getDefUrl(a);k.loadScript(a,function(){var b=A;A=s;!1!==a.useNet&&(!b||b.ex?a.reject(Error(b&&
b.ex||"define() missing or duplicated: "+a.url)):k.defineResource(a,b))},a.reject);return a},fetchDep:function(a,b){var c,f,e,d,h,g,j,l,o;c=b.toAbsId;f=b.isPreload;var z={};"object"===typeof a&&(z=a.data?a.data:a[1]||{},a=a.name?a.name:a[0]||"");e=v(a);g=e.resourceId;d=c(e.pluginId||g);j=k.resolvePathInfo(d,i,!!e.pluginId);if(e.pluginId)h=d;else if(h=j.config.moduleLoader)g=d,d=h,j=k.resolvePathInfo(h,i);e=t[d];d in t||(e=t[d]=k.createResourceDef(j.config,d,f,j.ctxId),e.url=k.checkToAddJsExt(j.url),
k.fetchResDef(e));d==h&&(l=new n,o=i.plugins[h]||i,q(e,function(a){var b,e,d;d=a.dynamic;g="normalize"in a?a.normalize(g,c,o)||"":c(g);e=h+"!"+g;b=t[e];if(!(e in t)){b=k.createPluginDef(o,e,f,g);d||(t[e]=b);var i=function(a){b.resolve(a);d||(t[e]=a)};i.resolve=i;i.reject=b.reject;a.load(g,b.require,i,o,z)}l!=b&&q(b,l.resolve,l.reject,l.progress)},l.reject));return l||e},getCurrentDefName:function(){var a;if(!m(g.opera,"Opera"))for(var b in D)if(L[D[b].readyState]==K){a=b;break}return a}};H={require:k.getCjsRequire,
exports:k.getCjsExports,module:k.getCjsModule};y.version="0.6.7";"function"==typeof define&&(z=define);"function"==typeof i&&(l=i,i=!1);i=k.config(i);k.checkPreloads(i);t.curl=y;t["curl/_privileged"]={core:k,cache:t,cfg:i,_define:o,_curl:y,Promise:n}})(this.window||global);
define("jsonrpc",function(){function g(){var j=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"];if("undefined"!==typeof XMLHttpRequest)g=function(){return new XMLHttpRequest};else for(var x=g=function(){throw Error(m+"XMLHttpRequest not available");};0<j.length&&g===x;)(function(j){try{new ActiveXObject(j),g=function(){return new ActiveXObject(j)}}catch(m){}})(j.shift());return g()}function u(g){throw g;}var m="JSONRPC plugin for CurlJS: ";return{dynamic:!0,load:function(j,x,v,w,p){var n=
v.reject||u,q=v.resolve||v,d=p.method||p[0];d||n(Error(m+"Call failed. 'method' property is required for settings object."));var y=x.toUrl(j),o,j=p.arguments||p.data||p[1],i=(new Date).getTime().toString(16)+Math.floor(1E4*Math.random()).toString(16);o={data:JSON.stringify({id:i,method:d,params:j}),errorFn:n,successFn:function(d){try{"string"===typeof d&&(d=JSON.parse(d));if(i!=d.id)throw Error(m+"Incorrect ID element in the response JSON.");d.error&&n(d.error);q(d.result)}catch(g){n(g.message)}}};
var l=g();l.open("POST",y,!0);l.setRequestHeader("Accept","text/*, text/x-javascript, text/javascript, text/x-json, application/x-javascript, application/json");l.setRequestHeader("Pragma","no-cache");l.setRequestHeader("Cache-Control","no-cache");l.setRequestHeader("Content-Type","application/json");l.onreadystatechange=function(){4===l.readyState&&(400>l.status?o.successFn(l.responseText):o.errorFn(Error(m+"Call to "+d+"@"+y+" failed with status: "+l.statusText)))};l.send(o.data)}}});
(function(g,u,m){define("js",["curl/_privileged"],function(g){function x(d,n,o){function i(){p||(l<new Date?o():setTimeout(i,10))}var l,p,q;l=(new Date).valueOf()+(d.timeoutMsec||3E5);o&&d.exports&&setTimeout(i,10);q=g.core.loadScript(d,function(){p=!0;d.exports&&(d.resolved=m(d.exports));!d.exports||d.resolved?n(q):o()},function(d){p=!0;o(d)})}function v(d,g){x(d,function(){var j=p.shift();q=0<p.length;j&&v.apply(null,j);g.resolve(d.resolved||!0)},function(d){g.reject(d)})}var w={},p=[],n=u&&!0==
u.createElement("script").async,q;return{dynamic:!0,load:function(d,g,j,i){var l,m,u,B;l=0<d.indexOf("!order");m=d.indexOf("!exports=");u=0<m&&d.substr(m+9);B="prefetch"in i?i.prefetch:!0;d=l||0<m?d.substr(0,d.indexOf("!")):d;d in w?j(w[d]):(w[d]=void 0,g={name:d,url:g.toUrl(d.lastIndexOf(".")<=d.lastIndexOf("/")?d+".js":d),order:l,exports:u,timeoutMsec:i.timeout},i={resolve:function(g){w[d]=g;(j.resolve||j)(g)},reject:j.reject||function(d){throw d;}},l&&!n&&q?(p.push([g,i]),B&&(g.mimetype="text/cache",
x(g,function(d){d&&d.parentNode.removeChild(d)},function(){}),g.mimetype="")):(q=q||l,v(g,i)))}}})})(this,this.document,function(g){try{return eval(g)}catch(u){}});
define("text",function(){function g(){if("undefined"!==typeof XMLHttpRequest)g=function(){return new XMLHttpRequest};else for(var j=g=function(){throw Error("getXhr(): XMLHttpRequest not available");};0<m.length&&g===j;)(function(j){try{new ActiveXObject(j),g=function(){return new ActiveXObject(j)}}catch(m){}})(m.shift());return g()}function u(g){throw g;}var m=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"];return{load:function(j,m,v){var w=v.resolve||v,p=v.reject||u,j=m.toUrl(j),n=g();
n.open("GET",j,!0);n.onreadystatechange=function(){4===n.readyState&&(400>n.status?w(n.responseText):p(Error("fetchText() failed. status: "+n.statusText)))};n.send(null)},"plugin-builder":"./builder/text"}});